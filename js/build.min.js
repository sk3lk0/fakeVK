document.addEventListener("DOMContentLoaded",()=>{let e,t=!1,l=!0,o=[["Месяц",31],["Января",31],["Февраля",29],["Марта",31],["Апреля",30],["Мая",31],["Июня",30],["июля",31],["Августа",31],["Сентября",30],["Октября",31],["Ноября",30],["Декабря",31]],n={day:0,month:0,year:0},r={day:0,month:0,year:0},i={day:0,month:0,year:0},u=[1902,2006],d=null,a=!1,s=l=>{clearTimeout(e),document.getElementById("covid").style.display="flex",e=setTimeout(()=>{document.getElementById("covid").style.opacity=1,t=!0},l?0:1e3)},c=()=>{clearTimeout(e),document.getElementById("covid").style.opacity=0,e=setTimeout(()=>{document.getElementById("covid").style.display="none",t=!1},250)};document.getElementById("logo").addEventListener("mouseenter",()=>{t?s(!0):s()}),document.getElementById("logo").addEventListener("mouseleave",()=>{document.getElementById("logo").style.paddingTop="0",c()}),document.getElementById("logo").addEventListener("mousedown",()=>{document.getElementById("logo").style.paddingTop="5px"}),document.getElementById("logo").addEventListener("mouseup",()=>{document.getElementById("logo").style.paddingTop="0"}),document.getElementById("covid").addEventListener("mouseenter",()=>{t&&s(!0)}),document.getElementById("covid").addEventListener("mouseleave",()=>{c()}),document.getElementById("searchInput").onfocus=()=>{document.getElementById("search").classList.add("active")},document.getElementById("searchInput").onblur=()=>{document.getElementById("search").classList.remove("active")},document.forms.search.onsubmit=()=>{var e;return""!=(e=document.getElementById("searchInput").value)&&console.log(`search: '${e}'`),!1};for(let e of document.querySelectorAll(".contentInput"))e.children[0].onfocus=()=>{e.classList.add("active")},e.children[0].onblur=()=>{e.classList.remove("active")};document.getElementById("authorizationCheckbox").addEventListener("click",()=>{l&&document.getElementById("authorizationCheckbox").classList.toggle("active")}),document.forms.authorization.onsubmit=()=>((()=>{let e=document.forms.authorization.login,t=document.forms.authorization.password;""==e.value&&""==t.value||""==e.value&&""!=t.value?(e.classList.remove("run-animation"),e.offsetWidth,e.classList.add("run-animation"),e.focus()):""!=e.value&&""==t.value?(t.classList.remove("run-animation"),t.offsetWidth,t.classList.add("run-animation"),t.focus()):(l=!1,document.getElementById("authorizationCheckbox").classList.add("disabled"),e.setAttribute("disabled","true"),t.setAttribute("disabled","true"),document.forms.authorization.button.setAttribute("disabled","true"),document.forms.authorization.button.classList.add("active"),console.log(`Login: '${e.value}'; Passowrd: '${t.value}'`))})(),!1),document.getElementById("birthdayIcon").addEventListener("mouseenter",()=>{document.getElementById("helper").style.opacity=1}),document.getElementById("birthdayIcon").addEventListener("mouseleave",()=>{document.getElementById("helper").style.opacity=0});let m=()=>{for(let e=0;e<3;e++)document.documentElement.clientHeight-document.querySelectorAll(".birthdayInput input")[e].getBoundingClientRect().bottom<document.querySelectorAll(".list")[e].getBoundingClientRect().height?(document.querySelectorAll(".list")[e].style.top="",document.querySelectorAll(".list")[e].style.bottom="100%",document.querySelectorAll(".list")[e].style.borderRadius="3px",document.querySelectorAll(".list")[e].style.borderBottomLeftRadius=0,document.querySelectorAll(".list")[e].style.borderBottomRightRadius=0,document.querySelectorAll(".birthdayInput input")[e].style.borderRadius="3px",document.querySelectorAll(".birthdayInput input")[e].style.borderTopLeftRadius=0,document.querySelectorAll(".birthdayInput input")[e].style.borderTopRightRadius=0):(document.querySelectorAll(".list")[e].style.top="100%",document.querySelectorAll(".list")[e].style.bottom="0",document.querySelectorAll(".list")[e].style.borderRadius="3px",document.querySelectorAll(".list")[e].style.borderTopLeftRadius=0,document.querySelectorAll(".list")[e].style.borderTopRightRadius=0,document.querySelectorAll(".birthdayInput input")[e].style.borderRadius="3px",document.querySelectorAll(".birthdayInput input")[e].style.borderBottomLeftRadius=0,document.querySelectorAll(".birthdayInput input")[e].style.borderBottomRightRadius=0)},y=(e,t)=>{let l;0==e&&(l="Day"),1==e&&(l="Month"),2==e&&(l="Year");for(let e=0;e<document.querySelectorAll(`#list${l} .listItem`).length;e++)document.querySelectorAll(`#list${l} .listItem`)[e].classList.remove("active");document.querySelectorAll(`#list${l} .listItem`)[t].classList.add("active")},p=()=>{for(let e=0;e<3;e++)document.querySelectorAll(".birthday input")[e].value=""},g=()=>{for(let e=0;e<3;e++){let t;0==e&&(t="Day"),1==e&&(t="Month"),2==e&&(t="Year");for(let e=0;e<document.querySelectorAll(`#list${t} .listItem`).length;e++)document.querySelectorAll(`#list${t} .listItem`)[e].classList.remove("active");document.querySelectorAll(`#list${t} .listItem`)[n[t.toLowerCase()]].classList.add("active"),i[t.toLowerCase()]=n[t.toLowerCase()]}},h=()=>{for(let e=0;e<3;e++){let t;0==e&&(t="Day"),1==e&&(t="Month"),2==e&&(t="Year"),document.querySelectorAll(".birthdayInput")[e].setAttribute("aria-label",document.querySelectorAll(`#list${t} .listItem`)[n[t.toLowerCase()]].innerHTML),0!=n[t.toLowerCase()]?document.querySelectorAll(".birthdayInput")[e].classList.add("--black"):document.querySelectorAll(".birthdayInput")[e].classList.remove("--black")}},I=()=>{document.getElementById("listDay").innerHTML="",document.getElementById("listMonth").innerHTML="",document.getElementById("listYear").innerHTML="",n.day>o[n.month][1]&&(n.day=0);for(let e=0;e<=o[n.month][1];e++){let t=document.createElement("li");t.classList.add("list__item"),t.classList.add("listItem"),t.setAttribute("data-index",""+e),t.innerHTML=0==e?"День":e,document.getElementById("listDay").appendChild(t)}for(let e=0;e<=12;e++){let t=document.createElement("li");t.classList.add("list__item"),t.classList.add("listItem"),t.setAttribute("data-index",""+e),t.innerHTML=o[e][0],document.getElementById("listMonth").appendChild(t)}for(let e=u[1]+1,t=0;e>=u[0];e--,t++){let l=document.createElement("li");l.classList.add("list__item"),l.classList.add("listItem"),l.setAttribute("data-index",""+t),l.innerHTML=e==u[1]+1?"Год":e,document.getElementById("listYear").appendChild(l)}h(),g(),(()=>{for(let e=0;e<3;e++){let t;0==e&&(t="Day"),1==e&&(t="Month"),2==e&&(t="Year"),document.getElementById("list"+t).addEventListener("mouseover",l=>{let o=Array.apply(null,document.querySelectorAll(`#list${t} .listItem`)).indexOf(l.target);y(e,o),i[t.toLowerCase()]=o}),document.getElementById("list"+t).addEventListener("mousedown",l=>{n[t.toLowerCase()]=l.target.getAttribute("data-index"),1==e?I():(g(),h(),document.querySelectorAll(".birthdayInput")[e].classList.remove("active"),p())})}})()};I(),window.addEventListener("mousedown",e=>{for(let t=0;t<3;t++)a||e.target!=document.querySelectorAll(".birthdayInput")[t]&&!document.querySelectorAll(".birthdayInput")[t].contains(e.target)?(document.querySelectorAll(".birthdayInput")[t].classList.remove("active"),p()):e.target==document.querySelectorAll(".list")[t]||document.querySelectorAll(".list")[t].contains(e.target)||(null!=d&&d!=t&&document.querySelectorAll(".birthdayInput")[d].classList.remove("active"),d=t,document.querySelectorAll(".birthdayInput")[t].classList.toggle("active"),m(),g())}),document.addEventListener("keydown",e=>{if("ArrowDown"==e.code){let e,t;for(let l=0;l<3;l++)document.activeElement==document.querySelectorAll(".birthday input")[l]&&(0==l&&(e="Day"),1==l&&(e="Month"),2==l&&(e="Year"),t=l);a||null==document.querySelectorAll(`#list${e} .listItem`)[i[e.toLowerCase()]+1]||(i[e.toLowerCase()]++,y(t,i[e.toLowerCase()]),r[e.toLowerCase()]=i[e.toLowerCase()],document.querySelectorAll(`#list${e} .listItem`)[i[e.toLowerCase()]].scrollIntoView())}if("ArrowUp"==e.code){let e,t;for(let l=0;l<3;l++)document.activeElement==document.querySelectorAll(".birthday input")[l]&&(0==l&&(e="Day"),1==l&&(e="Month"),2==l&&(e="Year"),t=l);a||null==document.querySelectorAll(`#list${e} .listItem`)[i[e.toLowerCase()]-1]||(i[e.toLowerCase()]--,y(t,i[e.toLowerCase()]),r[e.toLowerCase()]=i[e.toLowerCase()],document.querySelectorAll(`#list${e} .listItem`)[i[e.toLowerCase()]].scrollIntoView())}if(a||"Backspace"!=e.code||p(),!a&&"Enter"==e.code)for(let e=0;e<3;e++){let t;0==e&&(t="Day"),1==e&&(t="Month"),2==e&&(t="Year"),document.activeElement==document.querySelectorAll(".birthday input")[e]&&(n[t.toLowerCase()]=r[t.toLowerCase()],g(),h(),document.querySelectorAll(".birthdayInput")[e].classList.remove("active"))}}),document.querySelectorAll(".birthday input")[0].addEventListener("input",()=>{if(Array.apply(null,document.querySelectorAll(".birthdayInput")[0].classList).indexOf("active")>=0&&""!=document.querySelectorAll(".birthdayInput input")[0].value){let e=document.querySelectorAll(".birthdayInput input")[0].value.match(/\d/g);null!=e&&0!=e.length&&(e=e.join(""),e<=o[n.month][1]&&(r.day=e,document.querySelectorAll("#listDay .listItem")[e].scrollIntoView(),y(0,e)))}}),document.querySelectorAll(".birthday input")[1].addEventListener("input",()=>{if(Array.apply(null,document.querySelectorAll(".birthdayInput")[1].classList).indexOf("active")>=0&&""!=document.querySelectorAll(".birthdayInput input")[1].value){let e=document.querySelectorAll(".birthdayInput input")[1].value.match(/[а-яА-Я]/g);if(null!=e&&0!=e.length){e=e.join("").toLowerCase();for(let t=0;t<13;t++)if(o[t][0].toLowerCase().startsWith(e)){e=t;break}"number"==typeof e&&(r.month=e,document.querySelectorAll("#listMonth .listItem")[e].scrollIntoView(),y(1,e))}}}),document.querySelectorAll(".birthday input")[2].addEventListener("input",()=>{if(Array.apply(null,document.querySelectorAll(".birthdayInput")[2].classList).indexOf("active")>=0&&""!=document.querySelectorAll(".birthdayInput input")[2].value){let e=document.querySelectorAll(".birthdayInput input")[2].value.match(/\d/g);if(null!=e&&0!=e.length){e=e.join("");for(let t=0;t<document.querySelectorAll("#listYear .listItem").length;t++)if(document.querySelectorAll("#listYear .listItem")[t].innerHTML.startsWith(e.toString())){e=t;break}"number"==typeof e&&(r.year=e,document.querySelectorAll("#listYear .listItem")[e].scrollIntoView(),y(2,e))}}}),document.forms.registration.onsubmit=()=>((()=>{let e=document.forms.registration.name,t=document.forms.registration.surname;if(""==e.value&&""==t.value||""==e.value&&""!=t.value)document.getElementById("registrationPopUpNameSurname-1").style.opacity=1,document.getElementById("registrationPopUpNameSurname-2").style.opacity=0,document.getElementById("registrationPopUpBirthday").style.opacity=0,document.getElementById("registrationPopUpSex").style.opacity=0,e.classList.remove("run-animation"),e.offsetWidth,e.classList.add("run-animation"),e.focus();else if(""!=e.value&&""==t.value)document.getElementById("registrationPopUpNameSurname-1").style.opacity=0,document.getElementById("registrationPopUpNameSurname-2").style.opacity=1,document.getElementById("registrationPopUpBirthday").style.opacity=0,document.getElementById("registrationPopUpSex").style.opacity=0,t.classList.remove("run-animation"),t.offsetWidth,t.classList.add("run-animation"),t.focus();else{let l=!0;for(let e=0;e<3;e++)0==e&&(list="Day"),1==e&&(list="Month"),2==e&&(list="Year"),document.querySelectorAll(".birthdayInput")[e].getAttribute("aria-label")==document.querySelectorAll(`#list${list} .listItem`)[0].innerHTML&&(l=!1,document.querySelectorAll(".birthdayInput input")[e].classList.remove("run-animation"),document.querySelectorAll(".birthdayInput input")[e].offsetWidth,document.querySelectorAll(".birthdayInput input")[e].classList.add("run-animation"),document.getElementById("registrationPopUpNameSurname-1").style.opacity=0,document.getElementById("registrationPopUpNameSurname-2").style.opacity=0,document.getElementById("registrationPopUpBirthday").style.opacity=1,document.getElementById("registrationPopUpSex").style.opacity=0);if(l)if(document.getElementById("sex").classList.add("active"),""!=document.forms.registration.sex.value){document.getElementById("registrationPopUpNameSurname-1").style.opacity=0,document.getElementById("registrationPopUpNameSurname-2").style.opacity=0,document.getElementById("registrationPopUpBirthday").style.opacity=0,document.getElementById("registrationPopUpSex").style.opacity=0,e.setAttribute("disabled","true"),t.setAttribute("disabled","true"),document.forms.registration.button.setAttribute("disabled","true");for(let e=0;e<3;e++)0==e&&(list="Day"),1==e&&(list="Month"),2==e&&(list="Year"),document.querySelectorAll(".birthdayInput input")[e].value=document.querySelectorAll(`#list${list} .listItem`)[n[list.toLowerCase()]].innerHTML,document.getElementById("list"+list).classList.remove("active"),a=!0,document.querySelectorAll(".birthdayInput input")[e].setAttribute("disabled","true");console.log(`Name: '${e.value}'; Surname: '${t.value}'; Birthday date: '${document.forms.registration.birthdayDay.value} ${document.forms.registration.birthdayMonth.value} ${document.forms.registration.birthdayYear.value}'; Sex: '${document.forms.registration.sex.value}'`)}else document.getElementById("registrationPopUpNameSurname-1").style.opacity=0,document.getElementById("registrationPopUpNameSurname-2").style.opacity=0,document.getElementById("registrationPopUpBirthday").style.opacity=0,document.getElementById("registrationPopUpSex").style.opacity=1}})(),!1);for(let e=0;e<3;e++)0==e&&(list="Day"),1==e&&(list="Month"),2==e&&(list="Year"),document.querySelectorAll(".birthdayInput input")[e].onfocus=()=>{document.querySelectorAll(".birthdayInput")[e].classList.add("active"),d=e},document.querySelectorAll(".birthdayInput input")[e].onblur=()=>{document.querySelectorAll(".birthdayInput")[e].classList.remove("active")};document.addEventListener("click",()=>{document.getElementById("registrationPopUpNameSurname-1").style.opacity=0,document.getElementById("registrationPopUpNameSurname-2").style.opacity=0,document.getElementById("registrationPopUpBirthday").style.opacity=0,document.getElementById("registrationPopUpSex").style.opacity=0});(()=>{let e=[],t=[],l=[];for(let l=0;l<document.querySelectorAll(".jumpingBtn").length;l++)e[l]=window.getComputedStyle(document.querySelectorAll(".jumpingBtn")[l]).paddingTop,t[l]=window.getComputedStyle(document.querySelectorAll(".jumpingBtn")[l]).paddingBottom,document.querySelectorAll(".jumpingBtn")[l].addEventListener("mousedown",()=>{document.querySelectorAll(".jumpingBtn")[l].style.paddingTop=1*window.getComputedStyle(document.querySelectorAll(".jumpingBtn")[l]).paddingTop.slice(0,-2)+2+"px",document.querySelectorAll(".jumpingBtn")[l].style.paddingBottom=1*window.getComputedStyle(document.querySelectorAll(".jumpingBtn")[l]).paddingBottom.slice(0,-2)-2+"px"});for(let e=0;e<document.querySelectorAll(".jumpingBtnWithClass").length;e++)document.querySelectorAll(".jumpingBtnWithClass")[e].addEventListener("mousedown",()=>{document.querySelectorAll(".jumpingBtnWithClass")[e].classList.add("active"),l[e]=document.querySelectorAll(".jumpingBtnWithClassLink")[e].getAttribute("href"),document.querySelectorAll(".jumpingBtnWithClassLink")[e].removeAttribute("href")});document.addEventListener("mouseup",()=>{for(let l=0;l<document.querySelectorAll(".jumpingBtn").length;l++)document.querySelectorAll(".jumpingBtn")[l].style.paddingTop=e[l],document.querySelectorAll(".jumpingBtn")[l].style.paddingBottom=t[l];for(let e=0;e<document.querySelectorAll(".jumpingBtnWithClass").length;e++){document.querySelectorAll(".jumpingBtnWithClass")[e].classList.remove("active");for(let e=0;e<document.querySelectorAll(".jumpingBtnWithClassLink").length;e++)document.querySelectorAll(".jumpingBtnWithClassLink")[e].hasAttribute("href")||document.querySelectorAll(".jumpingBtnWithClassLink")[e].setAttribute("href",""+l[e])}})})(),setTimeout(()=>{document.getElementById("registrationUseFacebook").style.height="55px"},500);let A=()=>{""!=document.getElementById("searchInput").value?document.getElementById("search").classList.add("hideAfter"):document.getElementById("search").classList.remove("hideAfter");for(let e of document.querySelectorAll(".contentInput"))""!=e.children[0].value?e.classList.add("hideAfter"):e.classList.remove("hideAfter");""!=document.forms.authorization.password.value?(document.getElementById("authorizationForgot").style.display="none",document.getElementById("authorizationCheckbox").style.display="block"):(document.getElementById("authorizationForgot").style.display="block",document.getElementById("authorizationCheckbox").style.display="none"),requestAnimationFrame(A)};A()});